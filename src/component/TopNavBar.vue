<!-- @Author: LT -->
<!-- @Date: 2024-01-05 16:55:59 -->
<!-- @Description:  -->

<script setup>
import {
  reactive,
  ref,
  toRefs,
  onBeforeMount,
  onMounted,
  onUnmounted,
  watch,
  nextTick,
} from "vue";
import { useRouter } from "vue-router";
import change_theme from "../assets/theme/TopNavBar";
const router = useRouter();
import { useConfigStore } from "../store/config";
import { useUserStore } from "../store/user";
import { storeToRefs } from "pinia";
const store = useConfigStore();
const user_store = useUserStore();
const { theme } = storeToRefs(store);
let last_position = 0
store.$subscribe((mutation, state) => {
  change_theme(state.theme);
});
onBeforeMount(() => {});
onMounted(() => {
  change_theme(theme.value);
  document.addEventListener("scroll", nav_handle);
  document.addEventListener("click", click_handle);
});
onUnmounted(() => {
  document.removeEventListener("click", click_handle);
});
const click_handle = (e) => {
  let music_player_main = document.querySelector("#music_player_main");
  let music = document.querySelector("#top_nav_main .music");
  if (!music_player_main.contains(e.target) && !music.contains(e.target)) {
    music_active.value = false;
  }
};
const nav_handle = () => {
  let wScrY = window.scrollY;
  const nav_main = document.querySelector(".nav_main");
  const content = document.querySelector(".content");
  if(wScrY <= 70){
    nav_main.style.transform = 'translateY(0)';
    return 
  } 
  if (wScrY > last_position) {
    nav_main.style.transform = 'translateY(-100%)';

  } else {
    if(wScrY != 0){

    }else{

    }

    nav_main.style.transform = 'translateY(0)';
  }
  last_position = wScrY;
};
const emits = defineEmits(["music_change"]);

const nav_list = [
  {
    index: 0,
    name: "首页",
    e_name:'home',
    path: "/home",
  },
  {
    index: 1,
    name: "笔记",
    e_name:"note",
    path: "/note/1",
  },
  {
    index: 2,
    name: "数学",
    e_name: "math",
    path: "/math/1",
  },
  {
    index: 3,
    name: "文章",
    e_name: "article",
    path: "/article/list/all/1",
  },
  {
    index: 4,
    name: "关于",
    e_name: "about",
    path: "/about",
  },
  {
    index: 5,
    name: "网站导航",
    e_name: "siteNav",
    path: "/siteNav",
  },
  {
    index: 6,
    name: "更新日志",
    e_name: "updateLog",
    path: "/updateLog",
  },
];
const active_item = ref();
const pre_active_item = ref(-1);
const switch_nav_item = (index) => {
  const nav_list_item = document.querySelectorAll(".nav_item_com");
  nav_list_item[index].classList.add("nav_item_active");
  if (nav_list_item[index].classList.contains("nav_item")) {
    nav_list_item[index].classList.remove("nav_item");
  }
  pre_active_item.value = index;
};
const switch_nav_active = () => {
  const nav_list_item = document.querySelectorAll(".nav_item_com");
  if (pre_active_item.value != -1) {
    nav_list_item[pre_active_item.value].classList.remove("nav_item_active");
    nav_list_item[pre_active_item.value].classList.add("nav_item");
  }
  nextTick(() => {
    for (const item of nav_list) {
      if (active_item.value == item.e_name) {
        switch_nav_item(item.index);
        break;
      }
    }
    //   switch (active_item.value) {
    //     case "首页":
    //       switch_nav_item(0);
    //       break;
    //     case "":
    //       switch_nav_item(1);
    //       break;
    //     case "note":
    //       switch_nav_item(1);
    //       break;
    //     case "math":
    //       switch_nav_item(1);
    //       break;
    //     case "about":
    //       switch_nav_item(2);
    //       break;

    //     case "siteNav":
    //       switch_nav_item(3);
    //       break;
    //     case "updateLog":
    //       switch_nav_item(4);
    //       break;
    //     default:
    //       switch_nav_item(0);
    //       break;
    //   }
  });
};
watch(
  () => router.currentRoute.value.path,
  (to) => {
    active_item.value =
      to.split("/")[1] != null && to.split("/")[1] != undefined
        ? to.split("/")[1]
        : "home";
    switch_nav_active();
  },
  { immediate: true, deep: true }
);
const link_to = (path) => {
  router.push(path);
};
const go_github = () => {
  window.location.href = "https://github.com/sparkle520";
};
const active_music = () => {
  music_active.value = !music_active.value;
};
const music_active = ref(false);
watch(music_active, (newV, oldV) => {
  emits("music_change", newV);
});
const current_theme = ref(false);
const theme_change = () => {
  store.theme = !current_theme.value;
};
</script>
<template>
  <div id="top_nav_main" class="nav_main">
    <div class="content flex flex_direction_row relative">
      <div
        class="absolute nav_box flex flex_direction_row justify_content_space_between"
      >
        <div class="flex flex_direction_row justify_content_space_around">
          <div class="logo flex align_items_center justify_content_center">
            <svg
              version="1.0"
              xmlns="http://www.w3.org/2000/svg"
              width="20.000000pt"
              height="32.000000pt"
              viewBox="0 0 817.000000 1280.000000"
              preserveAspectRatio="xMidYMid meet"
            >
              <g
                transform="translate(0.000000,1280.000000) scale(0.100000,-0.100000)"
                fill="#0ebd7d"
                stroke="none"
              >
                <path
                  d="M3150 12780 c0 -24 101 -226 185 -371 43 -73 95 -169 116 -214 21
-45 47 -89 58 -99 10 -9 59 -28 107 -42 97 -26 114 -29 114 -15 0 5 -40 69
-89 142 -90 134 -187 257 -356 451 -50 57 -100 117 -112 133 -13 18 -22 24
-23 15z"
                  fill="#0ebd7d"
                />
                <path
                  d="M5040 12489 c-19 -5 -52 -14 -72 -19 -49 -14 -129 -78 -168 -135
l-32 -46 149 7 c168 7 239 -2 323 -43 73 -35 203 -167 258 -260 38 -65 46 -73
80 -78 71 -12 125 -35 178 -75 144 -109 193 -244 194 -530 0 -154 -15 -218
-76 -320 -32 -54 -41 -76 -30 -78 37 -8 300 106 382 166 87 64 97 147 30 280
-24 48 -55 120 -70 160 -25 71 -26 80 -26 306 l0 232 -29 45 c-39 60 -104 120
-176 164 -72 43 -95 49 -255 70 -147 19 -203 34 -325 87 -178 79 -242 91 -335
67z"
                  fill="#0ebd7d"
                />
                <path
                  d="M4219 12359 c-61 -9 -98 -30 -142 -78 -47 -52 -124 -214 -172 -361
-21 -63 -61 -164 -89 -225 -49 -106 -51 -113 -51 -195 1 -103 18 -170 55 -205
l27 -26 34 39 c19 22 53 62 77 91 24 28 47 51 51 51 5 0 11 -57 15 -127 8
-151 21 -240 43 -307 15 -48 69 -118 105 -137 15 -8 13 0 -11 43 -37 66 -77
202 -98 333 -19 123 -22 501 -5 589 12 59 42 106 68 106 21 0 43 41 55 103 25
126 71 157 237 157 66 0 112 4 112 10 0 19 -109 118 -142 128 -48 15 -116 19
-169 11z"
                  fill="#0ebd7d"
                />
                <path
                  d="M4803 12190 c-13 -5 -51 -31 -86 -58 -35 -27 -85 -54 -110 -62 -61
-17 -221 -9 -262 13 l-30 15 -11 -171 -11 -172 -56 -140 c-71 -179 -91 -291
-68 -375 5 -20 13 -1 34 85 70 290 244 495 492 580 28 9 102 21 165 25 73 6
146 18 199 34 93 29 175 33 224 12 37 -15 84 -65 122 -131 15 -25 28 -45 30
-45 8 0 -9 78 -26 117 -34 80 -168 200 -279 251 -47 21 -73 25 -180 28 -69 2
-135 0 -147 -6z"
                  fill="#a5e3ba"
                />
                <path
                  d="M2919 12020 c-171 -13 -272 -55 -363 -150 -43 -45 -58 -70 -75 -124
-40 -128 -46 -215 -33 -453 7 -120 12 -248 12 -285 0 -85 -28 -161 -83 -229
-90 -111 -87 -86 -27 -202 161 -315 313 -496 452 -541 54 -17 322 -24 332 -8
2 4 -31 38 -74 74 -43 37 -102 95 -131 130 -58 70 -133 218 -179 357 -25 74
-80 310 -80 342 0 20 29 6 79 -36 30 -25 67 -53 84 -61 27 -14 31 -14 46 0 24
25 18 145 -14 296 -49 231 -53 260 -42 260 6 0 65 -56 131 -124 67 -68 132
-130 146 -139 36 -22 140 -29 256 -18 100 10 344 55 375 69 14 6 9 25 -35 142
-48 129 -50 139 -50 235 1 115 13 156 76 253 22 34 39 64 37 66 -9 8 -270 97
-339 115 -128 35 -304 46 -501 31z"
                  fill="#a5e3ba"
                />
                <path
                  d="M6515 11924 c-285 -132 -269 -123 -273 -169 -5 -64 6 -105 29 -105
50 0 179 88 292 199 91 89 155 162 140 160 -4 -1 -89 -39 -188 -85z"
                  fill="#0ebd7d"
                />
                <path
                  d="M5218 11830 c-31 -19 -184 -50 -320 -65 -138 -15 -193 -31 -280 -80
-69 -39 -66 -45 10 -23 96 28 287 35 370 14 153 -39 245 -110 305 -237 43 -92
57 -153 64 -294 7 -131 -15 -251 -77 -427 -36 -101 -37 -108 -18 -108 54 0
378 223 433 298 60 83 95 160 95 211 0 95 -39 145 -303 384 -94 85 -193 221
-215 295 -13 43 -30 52 -64 32z"
                  fill="#a5e3ba"
                />
                <path
                  d="M4666 11570 c-28 -5 -82 -25 -122 -44 -87 -44 -177 -134 -223 -227
-36 -72 -39 -124 -12 -185 35 -76 105 -109 221 -102 53 3 72 9 103 32 44 34
93 100 103 140 9 38 -21 111 -57 137 l-29 20 -10 -26 c-16 -41 -59 -75 -95
-75 -52 0 -75 26 -81 90 -8 83 5 95 103 95 43 0 104 -6 136 -13 56 -13 58 -15
86 -71 16 -31 32 -78 36 -104 4 -26 11 -47 15 -47 4 0 14 15 23 33 30 65 29
82 -8 151 -19 37 -35 68 -35 71 0 3 11 5 24 5 34 0 80 -42 106 -96 31 -63 25
-169 -14 -248 -55 -112 -222 -195 -396 -196 -59 -1 -63 -2 -46 -15 33 -25 128
-57 183 -63 70 -6 176 14 242 46 71 35 150 112 184 181 24 49 27 66 27 155 0
93 -3 105 -29 151 -37 64 -138 160 -193 185 -51 22 -173 32 -242 20z"
                  fill="#a5e3ba"
                />
                <path
                  d="M6630 11465 c0 -65 -31 -189 -63 -248 -35 -67 -131 -160 -220 -214
-85 -52 -285 -126 -463 -172 l-42 -11 14 -48 c8 -26 26 -92 40 -147 14 -55 27
-101 29 -103 4 -5 169 87 333 186 236 143 346 252 388 387 22 70 29 244 14
333 -12 76 -30 97 -30 37z"
                  fill="#a5e3ba"
                />
                <path
                  d="M3886 11149 c-169 -198 -476 -723 -537 -920 -46 -146 -24 -481 43
-649 31 -79 58 -130 68 -130 4 0 0 51 -8 113 -10 80 -12 170 -8 317 5 219 21
310 80 459 73 184 249 403 391 485 36 22 67 42 70 45 2 4 -5 41 -15 83 -10 43
-22 108 -25 145 -11 98 -15 102 -59 52z"
                  fill="#a5e3ba"
                />
                <path
                  d="M5065 10839 c-92 -62 -266 -129 -338 -129 -47 0 -179 30 -242 55 -32
14 -60 23 -62 21 -2 -1 32 -45 75 -97 129 -155 198 -199 327 -206 92 -6 197
13 271 49 48 22 49 24 46 63 -3 50 -32 224 -41 247 -6 17 -8 16 -36 -3z"
                  fill="#a5e3ba"
                />
                <path
                  d="M5565 10678 c-263 -169 -458 -256 -660 -293 -343 -63 -543 -152 -729
-326 -144 -134 -202 -221 -344 -512 -105 -217 -118 -217 119 -3 79 71 151 140
161 155 9 14 21 57 27 95 7 48 17 76 33 93 13 14 100 80 193 148 332 240 376
260 540 252 92 -4 113 -9 270 -67 166 -62 173 -64 286 -68 103 -4 121 -2 167
18 52 23 103 74 136 137 23 45 40 183 33 268 -5 62 -39 189 -56 206 -3 4 -82
-42 -176 -103z"
                  fill="#a5e3ba"
                />
                <path
                  d="M6628 10761 c-226 -65 -541 -262 -724 -452 -53 -56 -93 -109 -81
-109 3 0 55 30 118 66 162 94 217 121 334 160 130 43 139 43 131 3 -8 -42
-116 -275 -165 -358 -75 -127 -224 -267 -436 -411 -174 -118 -278 -209 -312
-273 -19 -35 -23 -140 -9 -214 8 -39 7 -43 -15 -51 -13 -5 -51 -12 -84 -15
-119 -12 -523 -89 -675 -127 -330 -85 -494 -216 -531 -427 -7 -41 -8 -67 -1
-79 8 -15 11 -9 17 31 10 69 26 105 65 142 61 60 180 81 350 63 345 -36 326
-38 450 46 46 30 111 69 144 86 58 30 67 31 181 32 143 1 151 -2 272 -110 129
-115 203 -141 281 -100 81 42 133 124 147 230 13 98 75 120 260 92 61 -9 124
-16 141 -16 38 0 75 37 105 104 21 47 21 58 14 242 l-7 193 27 58 c19 44 51
83 128 158 125 122 142 153 141 255 -1 62 -11 105 -58 247 -57 174 -64 220
-46 282 25 90 102 118 276 104 57 -5 104 -5 104 -1 0 15 -80 71 -155 108 -59
29 -105 44 -177 55 -54 8 -101 15 -105 14 -5 0 -52 -13 -105 -28z"
                  fill="#a5e3ba"
                />
                <path
                  d="M2218 10375 c-73 -68 -159 -116 -268 -150 -124 -38 -120 -31 -70
-117 49 -83 301 -442 395 -563 116 -147 288 -304 375 -341 57 -24 140 -28 202
-10 82 23 198 105 263 184 78 96 118 152 108 152 -5 0 -38 -12 -74 -26 -62
-25 -69 -26 -224 -21 -159 4 -227 17 -279 53 -17 11 -15 14 24 34 49 25 48 40
-6 56 -123 37 -214 100 -307 213 -142 171 -142 189 -2 122 178 -85 296 -115
455 -115 120 0 226 12 214 23 -5 5 -43 16 -84 25 -94 22 -235 90 -321 155 -91
69 -263 250 -300 316 -17 30 -34 57 -37 59 -4 2 -33 -20 -64 -49z"
                  fill="#a5e3ba"
                />
                <path
                  d="M5330 9948 c-17 -40 -53 -104 -78 -143 -81 -124 -368 -391 -483 -450
-27 -15 -29 -14 -29 4 0 11 18 68 40 128 56 154 111 353 108 388 -3 25 -20 -3
-104 -170 -62 -122 -123 -228 -158 -272 -82 -104 -275 -254 -382 -296 -72 -28
-205 -48 -337 -52 -71 -2 -131 -5 -133 -8 -8 -8 98 -98 168 -144 72 -47 195
-103 225 -103 10 0 46 25 81 55 77 67 124 95 227 135 150 57 584 158 779 181
l108 12 -7 79 c-9 111 9 167 80 245 30 34 87 85 126 114 l71 53 -6 45 c-3 24
-9 96 -13 158 l-6 113 -122 0 -122 0 -33 -72z"
                  fill="#a5e3ba"
                />
                <path
                  d="M3280 9378 c-155 -184 -360 -298 -535 -298 -69 1 -127 22 -254 93
l-85 48 -60 -25 c-34 -14 -124 -49 -201 -77 -77 -28 -205 -78 -285 -112 -137
-58 -149 -65 -215 -131 -45 -46 -84 -97 -109 -144 -39 -76 -60 -132 -48 -132
4 0 27 26 52 58 90 115 132 153 223 198 106 54 299 111 422 125 120 13 482 14
625 0 63 -6 210 -11 326 -11 180 0 219 3 265 19 61 21 159 68 159 77 0 3 -21
38 -46 77 -26 39 -73 119 -106 177 -33 58 -63 108 -67 113 -4 4 -31 -21 -61
-55z"
                  fill="#0ebd7d"
                />
                <path
                  d="M3581 8889 c-72 -36 -97 -66 -150 -180 -72 -154 -292 -1001 -360
-1384 -97 -548 -90 -1192 20 -1675 54 -235 188 -683 289 -963 17 -49 29 -91
26 -94 -10 -10 -261 187 -443 349 -97 86 -463 480 -650 698 -250 291 -519 668
-693 968 -52 90 -96 159 -98 154 -11 -34 145 -371 263 -567 230 -383 487 -734
820 -1125 168 -197 209 -249 202 -256 -3 -3 -72 17 -154 44 -158 54 -267 74
-495 93 -138 12 -390 5 -418 -11 -8 -5 -10 -10 -5 -10 76 -2 511 -56 571 -70
197 -46 477 -167 644 -278 281 -187 585 -494 736 -744 82 -136 107 -198 177
-433 195 -658 289 -1046 377 -1548 100 -576 116 -777 106 -1368 -3 -201 -9
-393 -12 -427 l-7 -62 124 54 c68 29 180 74 249 100 69 26 136 54 149 63 l24
15 -6 162 c-4 88 -16 258 -27 375 -33 354 -71 563 -196 1070 l-74 304 0 261
c0 143 5 313 10 376 30 335 147 822 257 1073 21 47 32 85 28 97 -5 15 -2 20
13 20 11 0 57 25 103 56 212 141 427 220 689 253 92 11 289 26 495 38 l130 7
-85 13 c-131 19 -495 27 -639 14 -159 -15 -249 -33 -391 -82 -63 -21 -121 -39
-127 -39 -25 0 -12 28 68 146 186 272 332 436 608 682 278 248 492 414 803
623 163 110 201 139 182 139 -14 0 -285 -150 -439 -243 -350 -211 -458 -297
-852 -679 -78 -76 -146 -138 -151 -138 -13 0 -9 -10 -127 340 -101 297 -208
588 -240 651 -36 69 -23 11 39 -180 141 -430 203 -713 194 -886 -6 -108 -11
-118 -133 -290 -149 -209 -240 -370 -340 -600 -120 -275 -195 -546 -241 -873
-10 -73 -21 -121 -28 -119 -5 2 -18 23 -28 48 -283 715 -542 1398 -695 1829
-105 295 -295 886 -334 1038 -45 177 -80 373 -111 627 -28 234 -31 624 -5 817
48 358 150 717 287 1005 78 164 141 265 261 423 55 73 97 136 92 140 -4 4 -43
39 -85 77 -42 39 -90 80 -106 92 l-30 21 -61 -31z"
                  fill="#0ebd7d"
                />
                <path
                  d="M5145 8693 c-54 -41 -183 -93 -258 -104 -77 -10 -213 -1 -262 17 -19
8 -18 6 2 -27 35 -54 218 -301 334 -449 119 -151 321 -354 417 -419 82 -55
178 -99 322 -145 172 -56 220 -85 337 -203 l102 -102 -16 52 c-28 95 -81 183
-153 251 -55 52 -98 79 -228 144 -177 90 -242 136 -301 214 -126 168 -200 364
-247 657 -21 129 -23 134 -49 114z"
                  fill="#0ebd7d"
                />
                <path
                  d="M1006 8332 c-23 -37 -76 -486 -76 -644 0 -130 -6 -149 -41 -124 -13
9 -29 16 -35 16 -7 0 -29 -69 -53 -167 -31 -128 -43 -197 -48 -290 l-6 -122
-31 -3 -31 -3 -9 -86 c-17 -169 49 -359 167 -472 60 -57 74 -84 53 -99 -14
-10 74 -86 153 -132 87 -50 220 -109 308 -135 58 -17 97 -21 227 -21 136 0
156 2 156 16 0 23 -113 257 -131 270 -8 6 -50 20 -94 32 -104 27 -243 85 -308
130 -69 46 -147 122 -147 143 0 13 15 7 67 -28 86 -57 180 -105 214 -108 14
-1 30 -4 35 -8 15 -9 136 -29 142 -23 11 11 -85 310 -125 389 -8 17 -54 54
-111 92 -121 79 -262 222 -250 254 1 5 56 -27 121 -70 65 -43 125 -79 133 -79
23 0 17 41 -26 162 -53 153 -110 351 -110 385 0 24 2 25 14 13 8 -8 37 -55 65
-105 27 -49 58 -103 67 -120 l17 -30 9 40 c5 22 12 102 16 177 5 76 11 141 16
145 23 23 33 -57 45 -331 5 -123 11 -181 19 -184 7 -2 12 -16 12 -31 0 -35
199 -391 219 -391 24 0 103 385 103 503 0 37 4 67 8 67 21 0 30 -89 30 -292 0
-176 -4 -237 -20 -320 -11 -57 -20 -112 -20 -123 0 -11 24 -57 53 -102 219
-344 219 -344 235 -331 31 26 134 162 158 209 54 107 83 220 90 345 5 99 4
117 -7 107 -29 -28 -39 -15 -39 50 -1 164 -31 320 -89 459 -35 84 -102 200
-116 202 -5 0 -13 -18 -18 -41 -4 -24 -12 -43 -16 -43 -4 0 -17 17 -29 38 -45
81 -320 362 -372 380 -4 2 -11 -16 -15 -40 -10 -62 -13 -63 -45 -19 -45 61
-208 228 -340 346 -129 116 -186 160 -194 147z"
                  fill="#0ebd7d"
                />
                <path
                  d="M4220 7152 c0 -5 9 -34 19 -65 53 -154 80 -396 81 -740 0 -101 -10
-113 -61 -77 -38 28 -42 23 -61 -69 -15 -76 -18 -483 -4 -544 8 -37 8 -38 -17
-32 -26 7 -26 7 -15 -32 14 -53 71 -164 125 -246 58 -87 275 -307 334 -338
111 -59 210 -89 338 -104 l54 -6 -7 73 c-10 100 -44 265 -62 300 -8 15 -47 50
-87 78 -125 86 -198 143 -272 212 -72 67 -154 173 -142 184 7 7 97 -53 247
-166 107 -81 151 -110 164 -110 18 0 -98 433 -126 467 -5 7 -53 35 -106 63
-54 29 -106 60 -117 71 -19 19 -19 19 13 19 18 0 65 -7 103 -16 39 -9 72 -14
75 -12 2 3 -2 24 -10 49 -27 86 -66 235 -66 254 0 16 4 15 31 -11 39 -37 143
-194 200 -301 23 -46 46 -83 51 -83 4 0 8 13 8 28 0 42 29 134 40 127 6 -4 10
-74 10 -162 l0 -156 70 -136 c38 -75 81 -163 95 -195 14 -34 29 -55 34 -50 4
5 18 36 30 69 12 33 31 76 41 95 l18 35 8 -29 c4 -16 2 -97 -5 -180 -16 -218
-15 -276 10 -342 l22 -58 18 23 c26 32 76 166 91 247 8 45 13 153 13 309 0
265 -10 329 -75 471 -32 70 -41 73 -84 25 -11 -12 -23 -21 -27 -21 -4 0 -20
37 -34 83 -36 109 -106 243 -175 336 -70 95 -88 110 -101 90 -5 -8 -9 -23 -9
-34 -1 -57 -19 -42 -251 201 -235 248 -404 414 -420 414 -5 0 -9 -4 -9 -8z"
                  fill="#0ebd7d"
                />
                <path
                  d="M6685 6630 c-81 -12 -165 -39 -239 -78 -67 -35 -168 -124 -213 -187
l-21 -30 -18 38 c-10 20 -21 37 -24 37 -4 0 -34 -55 -68 -122 -104 -209 -139
-375 -129 -616 3 -74 8 -136 10 -139 3 -2 20 3 39 13 44 22 224 142 236 157 6
7 18 66 27 132 12 86 26 143 52 205 37 91 99 200 113 200 19 0 18 -19 -5 -76
-38 -95 -77 -354 -53 -354 6 0 86 34 178 75 92 41 172 75 177 75 26 0 68 50
115 138 63 116 149 212 191 212 l28 0 -41 -60 c-43 -63 -100 -176 -100 -197 0
-14 31 -3 260 91 130 53 221 78 219 60 0 -5 -40 -38 -90 -73 -57 -42 -85 -67
-77 -72 7 -3 75 -10 151 -13 148 -8 167 -11 167 -31 0 -8 -26 -15 -82 -19
-156 -14 -390 -46 -411 -58 -12 -6 -80 -55 -151 -110 -70 -54 -146 -111 -168
-125 -35 -24 -38 -28 -23 -39 22 -16 162 -41 326 -58 133 -14 169 -21 169 -36
0 -11 -215 -20 -468 -20 l-224 0 -92 -74 c-94 -75 -172 -130 -271 -190 l-57
-34 41 -30 c136 -98 328 -157 584 -178 91 -7 103 -2 67 31 -29 27 -25 33 28
40 258 35 450 95 600 187 40 24 40 35 2 43 -39 9 -38 25 5 54 61 41 210 205
274 301 33 50 61 95 61 100 0 5 -16 14 -35 20 l-36 12 46 51 c122 139 312 370
361 442 l55 80 -93 13 c-76 10 -225 15 -686 22 -2 0 10 18 27 39 37 47 46 42
-124 70 -224 37 -336 45 -396 28 -29 -9 -55 -14 -58 -11 -2 2 3 20 12 39 l17
35 -68 -1 c-37 -1 -90 -5 -117 -9z"
                  fill="#0ebd7d"
                />
                <path
                  d="M1310 5485 c0 -4 20 -34 45 -67 47 -62 58 -95 29 -84 -33 13 -188 36
-239 36 -106 0 -383 -62 -400 -90 -4 -6 14 -34 39 -62 25 -29 46 -56 46 -59 0
-4 -26 -17 -57 -30 -124 -49 -763 -375 -763 -389 0 -5 26 -11 58 -14 393 -40
445 -49 602 -103 107 -36 234 -95 244 -112 8 -12 -33 -41 -58 -41 -18 0 -18
-1 4 -25 32 -35 160 -99 271 -136 77 -26 118 -33 227 -39 74 -4 139 -13 145
-19 8 -8 4 -18 -13 -36 l-23 -25 54 0 c60 0 265 32 346 54 120 32 276 137 387
258 57 63 136 188 136 216 0 22 -233 91 -320 95 -54 2 -57 1 -160 -74 -132
-96 -218 -150 -300 -188 -149 -70 -177 -41 -46 47 77 52 258 197 264 212 4 11
-177 19 -321 13 l-132 -5 -50 -48 c-27 -26 -76 -68 -108 -94 -101 -80 -107
-57 -21 74 26 38 44 73 41 76 -3 4 -74 11 -156 17 -83 6 -151 14 -151 18 0 35
225 89 375 89 l70 0 -50 48 c-27 26 -68 61 -90 79 -61 48 -37 58 60 24 44 -15
100 -39 125 -51 57 -30 137 -32 305 -8 66 10 151 21 190 25 l70 8 -120 77
c-66 42 -150 93 -188 113 -37 20 -64 41 -61 47 9 15 88 2 174 -27 67 -23 112
-45 312 -154 57 -31 101 -47 179 -62 56 -11 107 -18 112 -16 13 4 -152 167
-228 224 -33 25 -85 57 -115 71 -86 38 -277 99 -370 117 -91 18 -370 33 -370
20z"
                  fill="#0ebd7d"
                />
                <path
                  d="M6220 4913 c-169 -27 -242 -48 -368 -109 -123 -58 -140 -70 -216
-147 -98 -99 -140 -152 -131 -167 4 -6 75 -10 196 -10 l189 0 103 49 c114 56
206 82 382 111 130 22 185 25 185 11 0 -16 -25 -28 -161 -74 -144 -50 -232
-86 -263 -110 -18 -13 -12 -16 64 -36 45 -13 133 -34 194 -48 l111 -25 153 17
c151 18 275 16 294 -3 15 -15 -13 -26 -117 -47 -49 -10 -94 -21 -98 -25 -5 -4
22 -18 60 -30 96 -32 163 -61 163 -72 0 -19 -38 -20 -266 -4 -130 9 -239 15
-241 12 -6 -5 80 -74 172 -139 73 -51 137 -107 122 -107 -3 0 -43 12 -89 26
-111 35 -194 78 -307 159 l-94 68 -174 -6 c-95 -3 -180 -10 -188 -15 -35 -19
125 -195 290 -318 50 -37 92 -69 94 -71 2 -1 1 -6 -2 -10 -10 -9 -152 34 -223
67 -101 48 -205 122 -306 217 l-96 91 -77 -18 c-100 -23 -105 -29 -69 -77 87
-115 411 -404 558 -497 l28 -18 -4 36 c-2 20 0 36 6 36 6 0 56 -16 111 -35 68
-23 135 -38 203 -45 118 -12 487 -18 497 -8 4 4 -5 22 -19 41 -14 19 -26 39
-26 45 0 31 347 92 523 92 18 0 18 2 -7 34 -33 44 -33 53 2 60 45 10 223 25
297 26 l70 0 -45 37 c-25 20 -95 86 -156 147 -155 156 -171 186 -101 186 56 0
62 13 24 47 -68 59 -373 230 -504 282 -39 16 -34 27 20 50 l40 17 -89 51
c-197 113 -327 163 -475 183 -166 23 -152 18 -147 51 4 28 3 29 -31 28 -20 -1
-47 -4 -61 -6z"
                  fill="#0ebd7d"
                />
              </g>
            </svg>
            <span> Tiny Flowers </span>
          </div>

          <ul class="nav_list flex flex_direction_row">
            <li
            :key="item"
              class="nav_item nav_item_com flex flex_direction_row align_items_center"
              v-for="(item,) in nav_list.slice(0, 4)"
              @click="link_to(item.path)"
            >
              {{ item.name }}
            </li>
          </ul>
        </div>

        <div class="flex flex_direction_row">
          <ul class="nav_list flex flex_direction_row">
            <li
            :key="item"

              class="nav_item nav_item_com flex flex_direction_row align_items_center"
              v-for="(item, ) in nav_list.slice(4)"
              @click="link_to(item.path)"
            >
              {{ item.name }}
            </li>
          </ul>
          <label class="switch" for="theme">
            <input
              id="theme"
              type="checkbox"
              @click="theme_change"
              v-model="current_theme"
            />
            <span class="slider"></span>
          </label>
        </div>
      </div>
      <div class="music absolute" @click="active_music">
        <img :src="user_store.avatar" alt="">
        <!-- <svg
          v-if="!music_active"
          t="1704963079198"
          class="svg_1"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="13968"
          width="48"
          height="48"
        >
          <path
            d="M1023.969343 511.946281A511.77753 511.77753 0 1 1 626.119623 12.873428a503.76806 503.76806 0 0 1 82.856588 26.376014 512.329907 512.329907 0 0 1 314.993132 472.696839z"
            fill="#123"
            p-id="13969"
          ></path>
          <path
            d="M708.976211 39.249442v472.696839h-82.856588V12.873428a503.76806 503.76806 0 0 1 82.856588 26.376014z"
            fill="#ffff"
            p-id="13970"
          ></path>
          <path
            d="M511.915624 709.006868a197.060587 197.060587 0 1 1 197.060587-197.060587 197.198681 197.198681 0 0 1-197.060587 197.060587z m0-311.264585a114.203998 114.203998 0 1 0 114.203999 114.203998 114.342093 114.342093 0 0 0-114.203999-114.203998z"
            fill="#ffff"
            p-id="13971"
          ></path>
        </svg>
        <svg
          v-if="music_active"
          t="1704963079198"
          class="svg_2"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="13968"
          width="48"
          height="48"
        >
          <path
            d="M1023.969343 511.946281A511.77753 511.77753 0 1 1 626.119623 12.873428a503.76806 503.76806 0 0 1 82.856588 26.376014 512.329907 512.329907 0 0 1 314.993132 472.696839z"
            fill="#EA5D5B"
            p-id="13969"
          ></path>
          <path
            d="M708.976211 39.249442v472.696839h-82.856588V12.873428a503.76806 503.76806 0 0 1 82.856588 26.376014z"
            fill="#F5B4B5"
            p-id="13970"
          ></path>
          <path
            d="M511.915624 709.006868a197.060587 197.060587 0 1 1 197.060587-197.060587 197.198681 197.198681 0 0 1-197.060587 197.060587z m0-311.264585a114.203998 114.203998 0 1 0 114.203999 114.203998 114.342093 114.342093 0 0 0-114.203999-114.203998z"
            fill="#FAD8D7"
            p-id="13971"
          ></path>
        </svg> -->
      </div>
    </div>
  </div>
</template>
<style lang="scss" scoped>
$nav_bg_color: var(--nav_bg_color, transparent);
$nav_fixed_shadow: var(--nav_fixed_shadow, #8e8e8e30);
$nav_item_color: var(--nav_item_color, #5e6d78);
$nav_item_active_color: var(--nav_item_active_color, #f67d61);
$nav_item_hover_color: var(--nav_item_hover_color, #f76700);

.nav_fixed {
  background: $nav_bg_color;
  // backdrop-filter: blur(6px);
  // -webkit-backdrop-filter: blur(6px);
}

@font-face {
  font-family: "orbitron-black";
  src: url("/src/assets/font/orbitron-black.ttf");
}
@font-face {
  font-family: "orbitron-light";
  src: url("/src/assets/font/orbitron-light.ttf");
}
#top_nav_main {
  position: fixed;
  width: 100vw;
  background: $nav_bg_color;

  font-family: "orbitron-black";
  .content {
    width: 100vw;
    height: 70px;
    z-index: 11;

    .nav_box {
      top: 50%;
      width: 100%;
      transform: translateY(-50%);
      .logo {
        margin-left: 1vw;
        font-family: "orbitron-light";
        margin-right: 10vw;
        color: $nav_item_color;
        span {
          margin-left: 1vw;
        }
      }
      .nav_list {
        padding: 0;
        user-select: none;
        .nav_item_active {
          font-size: 15px;
          color: $nav_item_active_color;
          font-weight: 900;
          margin: 0 10px;
          transition: all 1s cubic-bezier(0.075, 0.82, 0.165, 1);
        }
        .nav_item {
          font-size: 15px;
          color: $nav_item_color;
          font-weight: 900;

          margin: 0 10px;
          transition: all 1s cubic-bezier(0.075, 0.82, 0.165, 1);

          &:hover {
            color: $nav_item_hover_color;
          }
        }
      }

      .switch {
        font-size: 17px;
        position: relative;
        margin: auto 0;
        margin-left: calc(10vw + 100px);

        width: 3.5em;
        height: 2em;
        margin-right: 1vw;
      }

      .switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }

      .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #f4f4f5;
        transition: 0.4s;
        border-radius: 30px;
        &::before {
          position: absolute;
          content: "";
          height: 1.4em;
          width: 1.4em;
          border-radius: 20px;
          left: 0.3em;
          bottom: 0.3em;
          background: linear-gradient(40deg, #ff0080, #ff8c00 70%);
          transition: 0.4s;
        }
      }

      input:checked + .slider {
        background-color: #303136;
      }
      input:checked + .slider:before {
        transform: translateX(1.5em);
        background: #303136;
        box-shadow: inset -3px -2px 5px -2px #8983f7,
          inset -10px -5px 0 0 #a3dafb;
      }
    }
    .music {
      left: 50%;
      top: 8px;
      transform: translateX(-50%);
      transition: all 2s cubic-bezier(0.075, 0.82, 0.165, 1);
      &:hover{
        &::after{
          opacity: 1;
          bottom: -30px;

        }
      }
      &::after{
        content: '播放本地音频';
        position: absolute;
        bottom: -20px;
        opacity: 0;
        background: #ffff;
          left: 50%;
          transform: translateX(-50%) ;
          width: 120%;
          box-shadow: #3031361a 0 0 10px;
          font-size: 11px;
          border-radius: 15px;
          color: #5e6d78;
          padding: 8px 8px;
          transition: 0.5s cubic-bezier(0.075, 0.82, 0.165, 1);
      }
      img{
        width: 58px;
        height: 58px;
        margin: auto 0;
        border-radius: 50%;
        transition: all .5s cubic-bezier(0.075, 0.82, 0.165, 1);
        box-shadow: rgba(17, 34, 51, 0.189) 0 0 10px;
        &:hover {
        box-shadow: rgba(3, 27, 50, 0.763) 0 0 2px;

      }
      }
     

      .svg_1 {
        &:hover {
        }
      }
      .svg_2 {
        &:hover {
        }
      }
    }
  }
}


</style>
